<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <span class="navbar-brand">File Management Dashboard</span>
    <a href="/logout/" class="btn btn-danger">Logout</a>
  </div>
</nav>
<div class="container mt-4">
    <h4>Welcome {{ user.username }}</h4>
    <form method="POST" enctype="multipart/form-data" class="mt-3">{% csrf_token %}
        {{ form.as_p }}
        <button class="btn btn-primary">Upload File</button>
    </form>
    <hr>
    <h5>Your Uploaded Files</h5>
    <table class="table table-bordered mt-2">
        <tr><th>File</th><th>Description</th><th>Uploaded</th><th>Action</th></tr>
        {% for f in files %}
        <tr>
            <td><a href="{{ f.file.url }}">{{ f.file.name }}</a></td>
            <td>{{ f.description }}</td>
            <td>{{ f.uploaded_at }}</td>
            <td>
    <a href="/edit/{{ f.id }}/" class="btn btn-sm btn-warning me-1">Edit</a>
    <a href="/delete/{{ f.id }}/" class="btn btn-sm btn-danger">Delete</a>
</td>

        </tr>
        {% empty %}
        <tr><td colspan="4" class="text-center">No files uploaded yet.</td></tr>
        {% endfor %}
    </table>
</div>
</body>
</html>
